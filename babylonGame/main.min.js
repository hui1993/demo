/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/ 		var executeModules = data[2];
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fulfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 			}
/******/ 			if(fulfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/ 		return result;
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"main": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push(["./src/index.ts","vendors"]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/game-utils.ts":
/*!***************************!*\
  !*** ./src/game-utils.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var BABYLON = __webpack_require__(/*! babylonjs */ "./node_modules/babylonjs/babylon.js");
var GUI = __webpack_require__(/*! babylonjs-gui */ "./node_modules/babylonjs-gui/babylon.gui.min.js");
var rxjs_1 = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/Rx.js");
var GameUtils = /** @class */ (function () {
    function GameUtils() {
    }
    /**
     * Creates a basic ground
     * @param scene
     */
    GameUtils.createGround = function (scene) {
        // Ground
        var groundMaterial = new BABYLON.StandardMaterial("groundMaterial", scene);
        groundMaterial.diffuseTexture = new BABYLON.Texture("./assets/texture/ground.jpg", scene);
        //groundMaterial.diffuseTexture.uScale = groundMaterial.diffuseTexture.vScale = 4;
        var ground = BABYLON.Mesh.CreateGround("ground", 512, 512, 32, scene, false);
        ground.position.y = -1;
        ground.material = groundMaterial;
        return ground;
    };
    /**
     * Creates a second ground and adds a watermaterial to it
     * @param scene
     */
    GameUtils.createWater = function (scene) {
        // Water
        var waterMesh = BABYLON.Mesh.CreateGround("waterMesh", 512, 512, 32, scene, false);
        var waterMaterial = GameUtils.createWaterMaterial("water", "./assets/texture/waterbump.png", scene);
        waterMesh.material = waterMaterial;
        waterMesh.position.y = 4;
        return waterMaterial;
    };
    /**
     * Creates a BABYLONJS GUI with a single Button
     */
    GameUtils.createGui = function (btnText, btnClicked) {
        var guiTexture = GUI.AdvancedDynamicTexture.CreateFullscreenUI("UI");
        var btnTest = GUI.Button.CreateSimpleButton("but1", btnText);
        btnTest.width = "150px";
        btnTest.height = "40px";
        btnTest.color = "white";
        btnTest.background = "grey";
        btnTest.onPointerUpObservable.add(function () {
            if (btnClicked) {
                btnClicked(btnTest);
            }
        });
        btnTest.horizontalAlignment = GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;
        btnTest.verticalAlignment = GUI.Control.VERTICAL_ALIGNMENT_TOP;
        btnTest.left = 12;
        btnTest.top = 12;
        guiTexture.addControl(btnTest);
    };
    /**
     * Returns Observable of mesh array, which are loaded from a file.
     * After mesh importing all meshes become given scaling, position and rotation.
     * @param fileName
     * @param scene
     * @param scaling
     * @param position
     * @param rotationQuaternion
     */
    GameUtils.createMeshFromObjFile = function (folderName, fileName, scene, scaling, position, rotationQuaternion) {
        if (!fileName) {
            return rxjs_1.Observable.throw("GameUtils.createMeshFromObjFile: parameter fileName is empty");
        }
        if (!scene) {
            return rxjs_1.Observable.throw("GameUtils.createMeshFromObjFile: parameter fileName is empty");
        }
        if (!folderName)
            folderName = "";
        if (!scaling)
            scaling = BABYLON.Vector3.One();
        if (!position)
            position = BABYLON.Vector3.Zero();
        if (!rotationQuaternion)
            rotationQuaternion = BABYLON.Quaternion.RotationYawPitchRoll(0, 0, 0);
        var assetsFolder = './assets/' + folderName;
        return rxjs_1.Observable.create(function (observer) {
            BABYLON.SceneLoader.ImportMesh(null, assetsFolder, fileName, scene, function (meshes, particleSystems, skeletons) {
                meshes.forEach(function (mesh) {
                    mesh.position = position;
                    mesh.rotationQuaternion = rotationQuaternion;
                    mesh.scaling = scaling;
                });
                console.log("Imported Mesh: " + fileName);
                observer.next(meshes);
            });
        });
    };
    /**
     * Creates a new skybox with the picttures under fileName.
     * @param name
     * @param fileName
     * @param scene
     */
    GameUtils.createSkybox = function (name, fileName, scene) {
        if (!name) {
            console.error("GameUtils.createSkyBox: name is not defined");
            return;
        }
        if (!fileName) {
            console.error("GameUtils.createSkyBox: fileName is not defined");
            return;
        }
        if (!scene) {
            console.error("GameUtils.createSkyBox: scene is not defined");
            return;
        }
        // Skybox
        var skybox = BABYLON.Mesh.CreateBox(name, 1000.0, scene);
        var skyboxMaterial = new BABYLON.StandardMaterial(name, scene);
        skyboxMaterial.backFaceCulling = false;
        skyboxMaterial.reflectionTexture = new BABYLON.CubeTexture("./assets/texture/skybox/TropicalSunnyDay", scene);
        skyboxMaterial.reflectionTexture.coordinatesMode = BABYLON.Texture.SKYBOX_MODE;
        skyboxMaterial.diffuseColor = new BABYLON.Color3(0, 0, 0);
        skyboxMaterial.specularColor = new BABYLON.Color3(0, 0, 0);
        skyboxMaterial.disableLighting = true;
        skybox.material = skyboxMaterial;
    };
    /**
     * Creates a new WaterMaterial Object with a given name. The noiseFile descrips the noise in the water,
     * @param name
     * @param noiseFile
     * @param scene
     */
    GameUtils.createWaterMaterial = function (name, noiseFile, scene) {
        if (!name) {
            console.error("GameUtils.createWaterMaterial: name is not defined");
            return;
        }
        if (!noiseFile) {
            console.error("GameUtils.createWaterMaterial: noiseFile is not defined");
            return;
        }
        if (!scene) {
            console.error("GameUtils.createWaterMaterial: scene is not defined");
            return;
        }
        // Water material
        var water = new BABYLON.WaterMaterial(name, scene);
        water.bumpTexture = new BABYLON.Texture(noiseFile, scene);
        // Water properties
        water.windForce = -15;
        water.waveHeight = 0;
        water.windDirection = new BABYLON.Vector2(1, 1);
        water.waterColor = new BABYLON.Color3(0.25, 0.88, 0.82);
        water.colorBlendFactor = 0.3;
        water.bumpHeight = 0.1;
        water.waveLength = 0.1;
        return water;
    };
    /**
     * Loads a shark model from .obj file and adds it scene.
     * @param scene
     */
    GameUtils.createShark = function (scene) {
        // create a mesh object with loaded from file
        var rootMesh = BABYLON.MeshBuilder.CreateBox("rootMesh", { size: 1 }, scene);
        rootMesh.isVisible = false;
        rootMesh.position.y = 0.4;
        rootMesh.rotation.y = -3 * Math.PI / 4;
        return new rxjs_1.Observable(function (observer) {
            GameUtils.createMeshFromObjFile("mesh/", "mesh.obj", scene, new BABYLON.Vector3(1, 1, 1))
                .subscribe(function (meshes) {
                meshes.forEach(function (mesh) {
                    mesh.parent = rootMesh;
                });
                observer.next(rootMesh);
            });
        });
    };
    /**
     * 创建一个球体
     */
    GameUtils.creatSphere = function (scene) {
        var sphere = BABYLON.Mesh.CreateSphere("Sphere", 32, 3, scene);
        sphere.position = new BABYLON.Vector3(0, 5, 0);
        // Sphere4 material
        var material = new BABYLON.StandardMaterial("kosh4", scene);
        material.diffuseColor = new BABYLON.Color3(0, 0, 0);
        material.emissiveColor = BABYLON.Color3.White();
        material.specularPower = 64;
        // Fresnel
        // material.emissiveFresnelParameters = new BABYLON.FresnelParameters();
        // material.emissiveFresnelParameters.power = 4;
        // material.emissiveFresnelParameters.bias = 0.5;
        // material.emissiveFresnelParameters.leftColor = BABYLON.Color3.White();
        // material.emissiveFresnelParameters.rightColor = BABYLON.Color3.Black();
        // sphere.material = material;
        sphere.actionManager = new BABYLON.ActionManager(scene);
        // sphere.actionManager.registerAction(new BABYLON.SetValueAction(BABYLON.ActionManager.OnPointerOutTrigger, sphere.material, "emissiveColor", sphere.material.emissiveColor));
        // sphere.actionManager.registerAction(new BABYLON.SetValueAction(BABYLON.ActionManager.OnPointerOverTrigger, sphere.material, "emissiveColor", BABYLON.Color3.White()));
        sphere.actionManager.registerAction(new BABYLON.SetValueAction(BABYLON.ActionManager.OnPointerOutTrigger, sphere, "scaling", new BABYLON.Vector3(1, 1, 1)));
        sphere.actionManager.registerAction(new BABYLON.SetValueAction(BABYLON.ActionManager.OnPointerOverTrigger, sphere, "scaling", new BABYLON.Vector3(1.1, 1.1, 1.1)));
        // Create pointerDragBehavior in the desired mode
        //var pointerDragBehavior = new BABYLON.PointerDragBehavior({});
        //var pointerDragBehavior = new BABYLON.PointerDragBehavior({dragPlaneNormal: new BABYLON.Vector3(0,1,0)});
        var pointerDragBehavior = new BABYLON.PointerDragBehavior();
        // Use drag plane in world space
        pointerDragBehavior.useObjectOrienationForDragging = false;
        // Listen to drag events
        pointerDragBehavior.onDragStartObservable.add(function (event) {
            console.log("dragStart");
            console.log(event);
        });
        pointerDragBehavior.onDragObservable.add(function (event) {
            console.log("drag");
            console.log(event);
        });
        pointerDragBehavior.onDragEndObservable.add(function (event) {
            console.log("dragEnd");
            console.log(event);
        });
        // If handling drag events manually is desired, set move attached to false
        // pointerDragBehavior.moveAttached = false;
        sphere.addBehavior(pointerDragBehavior);
        return sphere;
    };
    return GameUtils;
}());
exports.GameUtils = GameUtils;


/***/ }),

/***/ "./src/game.ts":
/*!*********************!*\
  !*** ./src/game.ts ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var game_utils_1 = __webpack_require__(/*! ./game-utils */ "./src/game-utils.ts");
var BABYLON = __webpack_require__(/*! babylonjs */ "./node_modules/babylonjs/babylon.js");
var Game = /** @class */ (function () {
    function Game(canvasElement) {
        this._sharkAnimationTime = 0;
        this._swim = false;
        // Create canvas and engine
        this._canvas = document.getElementById(canvasElement);
        this._engine = new BABYLON.Engine(this._canvas, true);
    }
    /**
     * Creates the BABYLONJS Scene
     */
    Game.prototype.createScene = function () {
        var _this = this;
        // create a basic BJS Scene object
        this._scene = new BABYLON.Scene(this._engine);
        // create a FreeCamera, and set its position to (x:0, y:5, z:-10)
        this._camera = new BABYLON.ArcRotateCamera("Camera", 3 * Math.PI / 2, Math.PI / 4, 30, BABYLON.Vector3.Zero(), this._scene);
        this._camera.attachControl(this._canvas, true);
        // create a basic light, aiming 0,1,0 - meaning, to the sky
        this._light = new BABYLON.HemisphericLight("light", new BABYLON.Vector3(0, 1, 0), this._scene);
        // create the skybox
        var skybox = game_utils_1.GameUtils.createSkybox("skybox", "./assets/texture/skybox/TropicalSunnyDay", this._scene);
        // creates the sandy ground
        // let ground = GameUtils.createGround(this._scene);
        // creates the watermaterial and adds the relevant nodes to the renderlist
        // let waterMaterial = GameUtils.createWater(this._scene);
        // waterMaterial.addToRenderList(skybox);
        // waterMaterial.addToRenderList(ground);
        // create a shark mesh from a .obj file
        game_utils_1.GameUtils.createShark(this._scene)
            .subscribe(function (sharkMesh) {
            _this._sharkMesh = sharkMesh;
            // this._sharkMesh.getChildren().forEach(
            //     mesh => {
            //         waterMaterial.addToRenderList(mesh);
            //     }
            // );
        });
        // finally the new ui
        game_utils_1.GameUtils.createGui("Start Swimming", function (btn) {
            game_utils_1.GameUtils.creatSphere(_this._scene);
            var textControl = btn.children[0];
            _this._swim = !_this._swim;
            if (_this._swim) {
                textControl.text = "Stop Swimming";
            }
            else {
                textControl.text = "Start Swimming";
            }
        });
        // Physics engine also works
        // let gravity = new BABYLON.Vector3(0, -0.9, 0);
        // this._scene.enablePhysics(gravity, new BABYLON.CannonJSPlugin());
        // this._scene.exclusiveDoubleMode = false;
        this._scene.onPointerObservable.add(function (pointerInfo, eventState) {
            console.log("POINTERUP", pointerInfo);
        }, BABYLON.PointerEventTypes.POINTERUP, false);
        this._scene.onPointerObservable.add(function (pointerInfo, eventState) {
            console.log("POINTERPICK", this);
        }, BABYLON.PointerEventTypes.POINTERPICK, false);
        this._scene.onPointerObservable.add(function (pointerInfo, eventState) {
            console.log("POINTERTAP", this);
        }, BABYLON.PointerEventTypes.POINTERTAP, false);
        this._scene.onPointerObservable.add(function (pointerInfo, eventState) {
            console.log("POINTERDOWN", this);
        }, BABYLON.PointerEventTypes.POINTERDOWN, false);
        this._scene.onPointerObservable.add(function (pointerInfo, eventState) {
            // console.log("POINTERMOVE",pointerInfo, eventState);
        }, BABYLON.PointerEventTypes.POINTERMOVE, false);
    };
    Game.prototype.test = function () {
        game_utils_1.GameUtils.creatSphere(this._scene);
    };
    /**
     * Starts the animation loop.
     */
    Game.prototype.animate = function () {
        var _this = this;
        this._scene.registerBeforeRender(function () {
            var deltaTime = (1 / _this._engine.getFps());
            _this.animateShark(deltaTime);
        });
        // run the render loop
        this._engine.runRenderLoop(function () {
            _this._scene.render();
        });
        // the canvas/window resize event handler
        window.addEventListener('resize', function () {
            _this._engine.resize();
        });
    };
    Game.prototype.animateShark = function (deltaTime) {
        var _this = this;
        if (this._sharkMesh && this._swim) {
            this._sharkAnimationTime += deltaTime;
            this._sharkMesh.getChildren().forEach(function (mesh) {
                var vertexData = BABYLON.VertexData.ExtractFromMesh(mesh);
                var positions = vertexData.positions;
                var numberOfPoints = positions.length / 3;
                for (var i = 0; i < numberOfPoints; i++) {
                    positions[i * 3] +=
                        Math.sin(0.2 * positions[i * 3 + 2] + _this._sharkAnimationTime * 3) * 0.1;
                }
                vertexData.applyToMesh(mesh);
            });
        }
    };
    return Game;
}());
exports.Game = Game;


/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var game_1 = __webpack_require__(/*! ./game */ "./src/game.ts");
__webpack_require__(/*! babylonjs-materials */ "./node_modules/babylonjs-materials/babylonjs.materials.min.js");
__webpack_require__(/*! babylonjs-loaders */ "./node_modules/babylonjs-loaders/babylonjs.loaders.min.js");
var CANNON = __webpack_require__(/*! cannon */ "./node_modules/cannon/build/cannon.js");
window.addEventListener('DOMContentLoaded', function () {
    // Set global variable for cannonjs physics engine
    window.CANNON = CANNON;
    var game = new game_1.Game('renderCanvas');
    game.createScene();
    game.animate();
});


/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUtdXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQVEsb0JBQW9CO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBaUIsNEJBQTRCO0FBQzdDO0FBQ0E7QUFDQSwwQkFBa0IsMkJBQTJCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlEQUFpRCxjQUFjO0FBQy9EOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1DQUEyQiwwQkFBMEIsRUFBRTtBQUN2RCx5Q0FBaUMsZUFBZTtBQUNoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4REFBc0QsK0RBQStEOztBQUVySDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQWdCLHVCQUF1QjtBQUN2Qzs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7OztBQ3JJQSww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SUFBSSxJQUFJLEdBQUcsSUFBSSxXQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDcEMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ25CLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztBQUNqQixDQUFDLENBQUMsQ0FBQyIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdO1xuIFx0XHR2YXIgZXhlY3V0ZU1vZHVsZXMgPSBkYXRhWzJdO1xuIFx0XHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcbiBcdFx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG4gXHRcdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDAsIHJlc29sdmVzID0gW107XG4gXHRcdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuIFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuIFx0XHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuIFx0XHRcdH1cbiBcdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuIFx0XHR9XG4gXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYocGFyZW50SnNvbnBGdW5jdGlvbikgcGFyZW50SnNvbnBGdW5jdGlvbihkYXRhKTtcbiBcdFx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG4gXHRcdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuIFx0XHR9XG5cbiBcdFx0Ly8gYWRkIGVudHJ5IG1vZHVsZXMgZnJvbSBsb2FkZWQgY2h1bmsgdG8gZGVmZXJyZWQgbGlzdFxuIFx0XHRkZWZlcnJlZE1vZHVsZXMucHVzaC5hcHBseShkZWZlcnJlZE1vZHVsZXMsIGV4ZWN1dGVNb2R1bGVzIHx8IFtdKTtcblxuIFx0XHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIGFsbCBjaHVua3MgcmVhZHlcbiBcdFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4gXHR9O1xuIFx0ZnVuY3Rpb24gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKSB7XG4gXHRcdHZhciByZXN1bHQ7XG4gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHR2YXIgZGVmZXJyZWRNb2R1bGUgPSBkZWZlcnJlZE1vZHVsZXNbaV07XG4gXHRcdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG4gXHRcdFx0Zm9yKHZhciBqID0gMTsgaiA8IGRlZmVycmVkTW9kdWxlLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgZGVwSWQgPSBkZWZlcnJlZE1vZHVsZVtqXTtcbiBcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tkZXBJZF0gIT09IDApIGZ1bGZpbGxlZCA9IGZhbHNlO1xuIFx0XHRcdH1cbiBcdFx0XHRpZihmdWxmaWxsZWQpIHtcbiBcdFx0XHRcdGRlZmVycmVkTW9kdWxlcy5zcGxpY2UoaS0tLCAxKTtcbiBcdFx0XHRcdHJlc3VsdCA9IF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gZGVmZXJyZWRNb2R1bGVbMF0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRyZXR1cm4gcmVzdWx0O1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuIFx0Ly8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4gXHQvLyBQcm9taXNlID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxuIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbiBcdFx0XCJtYWluXCI6IDBcbiBcdH07XG5cbiBcdHZhciBkZWZlcnJlZE1vZHVsZXMgPSBbXTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdHZhciBqc29ucEFycmF5ID0gd2luZG93W1wid2VicGFja0pzb25wXCJdID0gd2luZG93W1wid2VicGFja0pzb25wXCJdIHx8IFtdO1xuIFx0dmFyIG9sZEpzb25wRnVuY3Rpb24gPSBqc29ucEFycmF5LnB1c2guYmluZChqc29ucEFycmF5KTtcbiBcdGpzb25wQXJyYXkucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrO1xuIFx0anNvbnBBcnJheSA9IGpzb25wQXJyYXkuc2xpY2UoKTtcbiBcdGZvcih2YXIgaSA9IDA7IGkgPCBqc29ucEFycmF5Lmxlbmd0aDsgaSsrKSB3ZWJwYWNrSnNvbnBDYWxsYmFjayhqc29ucEFycmF5W2ldKTtcbiBcdHZhciBwYXJlbnRKc29ucEZ1bmN0aW9uID0gb2xkSnNvbnBGdW5jdGlvbjtcblxuXG4gXHQvLyBhZGQgZW50cnkgbW9kdWxlIHRvIGRlZmVycmVkIGxpc3RcbiBcdGRlZmVycmVkTW9kdWxlcy5wdXNoKFtcIi4vc3JjL2luZGV4LnRzXCIsXCJ2ZW5kb3JzXCJdKTtcbiBcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gcmVhZHlcbiBcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIiwiaW1wb3J0ICogYXMgQkFCWUxPTiBmcm9tICdiYWJ5bG9uanMnO1xyXG5pbXBvcnQgKiBhcyBHVUkgZnJvbSAnYmFieWxvbmpzLWd1aSc7XHJcbmltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSAncnhqcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVV0aWxzIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBiYXNpYyBncm91bmRcclxuICAgICAqIEBwYXJhbSBzY2VuZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUdyb3VuZChzY2VuZTogQkFCWUxPTi5TY2VuZSk6IEJBQllMT04uTWVzaCB7XHJcbiAgICAgICAgLy8gR3JvdW5kXHJcbiAgICAgICAgbGV0IGdyb3VuZE1hdGVyaWFsID0gbmV3IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbChcImdyb3VuZE1hdGVyaWFsXCIsIHNjZW5lKTtcclxuICAgICAgICBncm91bmRNYXRlcmlhbC5kaWZmdXNlVGV4dHVyZSA9IG5ldyBCQUJZTE9OLlRleHR1cmUoXCIuL2Fzc2V0cy90ZXh0dXJlL2dyb3VuZC5qcGdcIiwgc2NlbmUpO1xyXG4gICAgICAgIC8vZ3JvdW5kTWF0ZXJpYWwuZGlmZnVzZVRleHR1cmUudVNjYWxlID0gZ3JvdW5kTWF0ZXJpYWwuZGlmZnVzZVRleHR1cmUudlNjYWxlID0gNDtcclxuICAgICAgICBsZXQgZ3JvdW5kID0gQkFCWUxPTi5NZXNoLkNyZWF0ZUdyb3VuZChcImdyb3VuZFwiLCA1MTIsIDUxMiwgMzIsIHNjZW5lLCBmYWxzZSk7XHJcbiAgICAgICAgZ3JvdW5kLnBvc2l0aW9uLnkgPSAtMTtcclxuICAgICAgICBncm91bmQubWF0ZXJpYWwgPSBncm91bmRNYXRlcmlhbDtcclxuXHJcbiAgICAgICAgcmV0dXJuIGdyb3VuZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBzZWNvbmQgZ3JvdW5kIGFuZCBhZGRzIGEgd2F0ZXJtYXRlcmlhbCB0byBpdFxyXG4gICAgICogQHBhcmFtIHNjZW5lXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlV2F0ZXIoc2NlbmU6IEJBQllMT04uU2NlbmUpOiBCQUJZTE9OLldhdGVyTWF0ZXJpYWwge1xyXG4gICAgICAgIC8vIFdhdGVyXHJcbiAgICAgICAgbGV0IHdhdGVyTWVzaCA9IEJBQllMT04uTWVzaC5DcmVhdGVHcm91bmQoXCJ3YXRlck1lc2hcIiwgNTEyLCA1MTIsIDMyLCBzY2VuZSwgZmFsc2UpO1xyXG4gICAgICAgIGxldCB3YXRlck1hdGVyaWFsID0gR2FtZVV0aWxzLmNyZWF0ZVdhdGVyTWF0ZXJpYWwoXCJ3YXRlclwiLCBcIi4vYXNzZXRzL3RleHR1cmUvd2F0ZXJidW1wLnBuZ1wiLCBzY2VuZSk7XHJcbiAgICAgICAgd2F0ZXJNZXNoLm1hdGVyaWFsID0gd2F0ZXJNYXRlcmlhbDtcclxuICAgICAgICB3YXRlck1lc2gucG9zaXRpb24ueSA9IDQ7XHJcblxyXG4gICAgICAgIHJldHVybiB3YXRlck1hdGVyaWFsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIEJBQllMT05KUyBHVUkgd2l0aCBhIHNpbmdsZSBCdXR0b25cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVHdWkoYnRuVGV4dDogc3RyaW5nLCBidG5DbGlja2VkOiAoYnV0dG9uOiBHVUkuQnV0dG9uKSA9PiB2b2lkKSB7XHJcblxyXG4gICAgICAgIGxldCBndWlUZXh0dXJlID0gR1VJLkFkdmFuY2VkRHluYW1pY1RleHR1cmUuQ3JlYXRlRnVsbHNjcmVlblVJKFwiVUlcIik7XHJcbiAgICAgICAgbGV0IGJ0blRlc3QgPSBHVUkuQnV0dG9uLkNyZWF0ZVNpbXBsZUJ1dHRvbihcImJ1dDFcIiwgYnRuVGV4dCk7XHJcbiAgICAgICAgYnRuVGVzdC53aWR0aCA9IFwiMTUwcHhcIjtcclxuICAgICAgICBidG5UZXN0LmhlaWdodCA9IFwiNDBweFwiO1xyXG4gICAgICAgIGJ0blRlc3QuY29sb3IgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgYnRuVGVzdC5iYWNrZ3JvdW5kID0gXCJncmV5XCI7XHJcbiAgICAgICAgYnRuVGVzdC5vblBvaW50ZXJVcE9ic2VydmFibGUuYWRkKCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGJ0bkNsaWNrZWQpIHtcclxuICAgICAgICAgICAgICAgIGJ0bkNsaWNrZWQoYnRuVGVzdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBidG5UZXN0Lmhvcml6b250YWxBbGlnbm1lbnQgPSBHVUkuQ29udHJvbC5IT1JJWk9OVEFMX0FMSUdOTUVOVF9MRUZUO1xyXG4gICAgICAgIGJ0blRlc3QudmVydGljYWxBbGlnbm1lbnQgPSBHVUkuQ29udHJvbC5WRVJUSUNBTF9BTElHTk1FTlRfVE9QO1xyXG4gICAgICAgIGJ0blRlc3QubGVmdCA9IDEyO1xyXG4gICAgICAgIGJ0blRlc3QudG9wID0gMTI7XHJcblxyXG4gICAgICAgIGd1aVRleHR1cmUuYWRkQ29udHJvbChidG5UZXN0KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgT2JzZXJ2YWJsZSBvZiBtZXNoIGFycmF5LCB3aGljaCBhcmUgbG9hZGVkIGZyb20gYSBmaWxlLlxyXG4gICAgICogQWZ0ZXIgbWVzaCBpbXBvcnRpbmcgYWxsIG1lc2hlcyBiZWNvbWUgZ2l2ZW4gc2NhbGluZywgcG9zaXRpb24gYW5kIHJvdGF0aW9uLlxyXG4gICAgICogQHBhcmFtIGZpbGVOYW1lXHJcbiAgICAgKiBAcGFyYW0gc2NlbmVcclxuICAgICAqIEBwYXJhbSBzY2FsaW5nXHJcbiAgICAgKiBAcGFyYW0gcG9zaXRpb25cclxuICAgICAqIEBwYXJhbSByb3RhdGlvblF1YXRlcm5pb25cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVNZXNoRnJvbU9iakZpbGUoZm9sZGVyTmFtZTogc3RyaW5nLCBmaWxlTmFtZTogc3RyaW5nLCBzY2VuZTogQkFCWUxPTi5TY2VuZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxpbmc/OiBCQUJZTE9OLlZlY3RvcjMsIHBvc2l0aW9uPzogQkFCWUxPTi5WZWN0b3IzLCByb3RhdGlvblF1YXRlcm5pb24/OiBCQUJZTE9OLlF1YXRlcm5pb24pOiBPYnNlcnZhYmxlPEJBQllMT04uQWJzdHJhY3RNZXNoW10+IHtcclxuXHJcbiAgICAgICAgaWYgKCFmaWxlTmFtZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gT2JzZXJ2YWJsZS50aHJvdyhcIkdhbWVVdGlscy5jcmVhdGVNZXNoRnJvbU9iakZpbGU6IHBhcmFtZXRlciBmaWxlTmFtZSBpcyBlbXB0eVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFzY2VuZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gT2JzZXJ2YWJsZS50aHJvdyhcIkdhbWVVdGlscy5jcmVhdGVNZXNoRnJvbU9iakZpbGU6IHBhcmFtZXRlciBmaWxlTmFtZSBpcyBlbXB0eVwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghZm9sZGVyTmFtZSkgZm9sZGVyTmFtZSA9IFwiXCI7XHJcbiAgICAgICAgaWYgKCFzY2FsaW5nKSBzY2FsaW5nID0gQkFCWUxPTi5WZWN0b3IzLk9uZSgpO1xyXG4gICAgICAgIGlmICghcG9zaXRpb24pIHBvc2l0aW9uID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcclxuICAgICAgICBpZiAoIXJvdGF0aW9uUXVhdGVybmlvbikgcm90YXRpb25RdWF0ZXJuaW9uID0gQkFCWUxPTi5RdWF0ZXJuaW9uLlJvdGF0aW9uWWF3UGl0Y2hSb2xsKDAsIDAsIDApO1xyXG5cclxuICAgICAgICBsZXQgYXNzZXRzRm9sZGVyID0gJy4vYXNzZXRzLycgKyBmb2xkZXJOYW1lO1xyXG5cclxuICAgICAgICByZXR1cm4gT2JzZXJ2YWJsZS5jcmVhdGUob2JzZXJ2ZXIgPT4ge1xyXG4gICAgICAgICAgICBCQUJZTE9OLlNjZW5lTG9hZGVyLkltcG9ydE1lc2gobnVsbCwgYXNzZXRzRm9sZGVyLCBmaWxlTmFtZSwgc2NlbmUsXHJcbiAgICAgICAgICAgICAgICAobWVzaGVzOiBCQUJZTE9OLkFic3RyYWN0TWVzaFtdLFxyXG4gICAgICAgICAgICAgICAgIHBhcnRpY2xlU3lzdGVtczogQkFCWUxPTi5QYXJ0aWNsZVN5c3RlbVtdLFxyXG4gICAgICAgICAgICAgICAgIHNrZWxldG9uczogQkFCWUxPTi5Ta2VsZXRvbltdKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzaGVzLmZvckVhY2goKG1lc2gpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzaC5wb3NpdGlvbiA9IHBvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNoLnJvdGF0aW9uUXVhdGVybmlvbiA9IHJvdGF0aW9uUXVhdGVybmlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzaC5zY2FsaW5nID0gc2NhbGluZztcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkltcG9ydGVkIE1lc2g6IFwiICsgZmlsZU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQobWVzaGVzKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIG5ldyBza3lib3ggd2l0aCB0aGUgcGljdHR1cmVzIHVuZGVyIGZpbGVOYW1lLlxyXG4gICAgICogQHBhcmFtIG5hbWVcclxuICAgICAqIEBwYXJhbSBmaWxlTmFtZVxyXG4gICAgICogQHBhcmFtIHNjZW5lXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlU2t5Ym94KG5hbWU6IHN0cmluZywgZmlsZU5hbWU6IHN0cmluZywgc2NlbmU6IEJBQllMT04uU2NlbmUpOiBCQUJZTE9OLk1lc2gge1xyXG4gICAgICAgIGlmICghbmFtZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiR2FtZVV0aWxzLmNyZWF0ZVNreUJveDogbmFtZSBpcyBub3QgZGVmaW5lZFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWZpbGVOYW1lKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJHYW1lVXRpbHMuY3JlYXRlU2t5Qm94OiBmaWxlTmFtZSBpcyBub3QgZGVmaW5lZFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXNjZW5lKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJHYW1lVXRpbHMuY3JlYXRlU2t5Qm94OiBzY2VuZSBpcyBub3QgZGVmaW5lZFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2t5Ym94XHJcbiAgICAgICAgbGV0IHNreWJveCA9IEJBQllMT04uTWVzaC5DcmVhdGVCb3gobmFtZSwgMTAwMC4wLCBzY2VuZSk7XHJcbiAgICAgICAgbGV0IHNreWJveE1hdGVyaWFsID0gbmV3IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbChuYW1lLCBzY2VuZSk7XHJcbiAgICAgICAgc2t5Ym94TWF0ZXJpYWwuYmFja0ZhY2VDdWxsaW5nID0gZmFsc2U7XHJcbiAgICAgICAgc2t5Ym94TWF0ZXJpYWwucmVmbGVjdGlvblRleHR1cmUgPSBuZXcgQkFCWUxPTi5DdWJlVGV4dHVyZShcIi4vYXNzZXRzL3RleHR1cmUvc2t5Ym94L1Ryb3BpY2FsU3VubnlEYXlcIiwgc2NlbmUpO1xyXG4gICAgICAgIHNreWJveE1hdGVyaWFsLnJlZmxlY3Rpb25UZXh0dXJlLmNvb3JkaW5hdGVzTW9kZSA9IEJBQllMT04uVGV4dHVyZS5TS1lCT1hfTU9ERTtcclxuICAgICAgICBza3lib3hNYXRlcmlhbC5kaWZmdXNlQ29sb3IgPSBuZXcgQkFCWUxPTi5Db2xvcjMoMCwgMCwgMCk7XHJcbiAgICAgICAgc2t5Ym94TWF0ZXJpYWwuc3BlY3VsYXJDb2xvciA9IG5ldyBCQUJZTE9OLkNvbG9yMygwLCAwLCAwKTtcclxuICAgICAgICBza3lib3hNYXRlcmlhbC5kaXNhYmxlTGlnaHRpbmcgPSB0cnVlO1xyXG4gICAgICAgIHNreWJveC5tYXRlcmlhbCA9IHNreWJveE1hdGVyaWFsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIG5ldyBXYXRlck1hdGVyaWFsIE9iamVjdCB3aXRoIGEgZ2l2ZW4gbmFtZS4gVGhlIG5vaXNlRmlsZSBkZXNjcmlwcyB0aGUgbm9pc2UgaW4gdGhlIHdhdGVyLFxyXG4gICAgICogQHBhcmFtIG5hbWVcclxuICAgICAqIEBwYXJhbSBub2lzZUZpbGVcclxuICAgICAqIEBwYXJhbSBzY2VuZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZVdhdGVyTWF0ZXJpYWwobmFtZTogc3RyaW5nLCBub2lzZUZpbGU6IHN0cmluZywgc2NlbmU6IEJBQllMT04uU2NlbmUpOiBCQUJZTE9OLldhdGVyTWF0ZXJpYWwge1xyXG4gICAgICAgIGlmICghbmFtZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiR2FtZVV0aWxzLmNyZWF0ZVdhdGVyTWF0ZXJpYWw6IG5hbWUgaXMgbm90IGRlZmluZWRcIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFub2lzZUZpbGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkdhbWVVdGlscy5jcmVhdGVXYXRlck1hdGVyaWFsOiBub2lzZUZpbGUgaXMgbm90IGRlZmluZWRcIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFzY2VuZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiR2FtZVV0aWxzLmNyZWF0ZVdhdGVyTWF0ZXJpYWw6IHNjZW5lIGlzIG5vdCBkZWZpbmVkXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFdhdGVyIG1hdGVyaWFsXHJcbiAgICAgICAgbGV0IHdhdGVyID0gbmV3IEJBQllMT04uV2F0ZXJNYXRlcmlhbChuYW1lLCBzY2VuZSk7XHJcbiAgICAgICAgd2F0ZXIuYnVtcFRleHR1cmUgPSBuZXcgQkFCWUxPTi5UZXh0dXJlKG5vaXNlRmlsZSwgc2NlbmUpO1xyXG4gICAgICAgIC8vIFdhdGVyIHByb3BlcnRpZXNcclxuICAgICAgICB3YXRlci53aW5kRm9yY2UgPSAtMTU7XHJcbiAgICAgICAgd2F0ZXIud2F2ZUhlaWdodCA9IDA7XHJcbiAgICAgICAgd2F0ZXIud2luZERpcmVjdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjIoMSwgMSk7XHJcbiAgICAgICAgd2F0ZXIud2F0ZXJDb2xvciA9IG5ldyBCQUJZTE9OLkNvbG9yMygwLjI1LCAwLjg4LCAwLjgyKTtcclxuICAgICAgICB3YXRlci5jb2xvckJsZW5kRmFjdG9yID0gMC4zO1xyXG4gICAgICAgIHdhdGVyLmJ1bXBIZWlnaHQgPSAwLjE7XHJcbiAgICAgICAgd2F0ZXIud2F2ZUxlbmd0aCA9IDAuMTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHdhdGVyXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkcyBhIHNoYXJrIG1vZGVsIGZyb20gLm9iaiBmaWxlIGFuZCBhZGRzIGl0IHNjZW5lLlxyXG4gICAgICogQHBhcmFtIHNjZW5lXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlU2hhcmsoc2NlbmU6IEJBQllMT04uU2NlbmUpOiBPYnNlcnZhYmxlPEJBQllMT04uQWJzdHJhY3RNZXNoPiB7XHJcbiAgICAgICAgLy8gY3JlYXRlIGEgbWVzaCBvYmplY3Qgd2l0aCBsb2FkZWQgZnJvbSBmaWxlXHJcbiAgICAgICAgbGV0IHJvb3RNZXNoID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVCb3goXCJyb290TWVzaFwiLCB7c2l6ZTogMX0sIHNjZW5lKTtcclxuICAgICAgICByb290TWVzaC5pc1Zpc2libGUgPSBmYWxzZTtcclxuICAgICAgICByb290TWVzaC5wb3NpdGlvbi55ID0gMC40O1xyXG4gICAgICAgIHJvb3RNZXNoLnJvdGF0aW9uLnkgPSAtMyAqIE1hdGguUEkgLyA0O1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUob2JzZXJ2ZXIgPT4ge1xyXG4gICAgICAgICAgICBHYW1lVXRpbHMuY3JlYXRlTWVzaEZyb21PYmpGaWxlKFwibWVzaC9cIiwgXCJtZXNoLm9ialwiLCBzY2VuZSwgbmV3IEJBQllMT04uVmVjdG9yMygxLCAxLCAxKSlcclxuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUobWVzaGVzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNoZXMuZm9yRWFjaCgobWVzaCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNoLnBhcmVudCA9IHJvb3RNZXNoO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQocm9vdE1lc2gpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliJvlu7rkuIDkuKrnkIPkvZNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdFNwaGVyZShzY2VuZTogQkFCWUxPTi5TY2VuZSl7XHJcbiAgICAgICAgdmFyIHNwaGVyZSA9IEJBQllMT04uTWVzaC5DcmVhdGVTcGhlcmUoXCJTcGhlcmVcIiwgMzIsIDMsIHNjZW5lKVxyXG4gICAgICAgIHNwaGVyZS5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCw1LDApO1xyXG5cclxuICAgICAgICAvLyBTcGhlcmU0IG1hdGVyaWFsXHJcbiAgICAgICAgbGV0IG1hdGVyaWFsID0gbmV3IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbChcImtvc2g0XCIsIHNjZW5lKTtcclxuICAgICAgICBtYXRlcmlhbC5kaWZmdXNlQ29sb3IgPSBuZXcgQkFCWUxPTi5Db2xvcjMoMCwgMCwgMCk7XHJcbiAgICAgICAgbWF0ZXJpYWwuZW1pc3NpdmVDb2xvciA9IEJBQllMT04uQ29sb3IzLldoaXRlKCk7XHJcbiAgICAgICAgbWF0ZXJpYWwuc3BlY3VsYXJQb3dlciA9IDY0O1xyXG5cclxuICAgICAgICAvLyBGcmVzbmVsXHJcbiAgICAgICAgLy8gbWF0ZXJpYWwuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycyA9IG5ldyBCQUJZTE9OLkZyZXNuZWxQYXJhbWV0ZXJzKCk7XHJcbiAgICAgICAgLy8gbWF0ZXJpYWwuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycy5wb3dlciA9IDQ7XHJcbiAgICAgICAgLy8gbWF0ZXJpYWwuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycy5iaWFzID0gMC41O1xyXG4gICAgICAgIC8vIG1hdGVyaWFsLmVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMubGVmdENvbG9yID0gQkFCWUxPTi5Db2xvcjMuV2hpdGUoKTtcclxuICAgICAgICAvLyBtYXRlcmlhbC5lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLnJpZ2h0Q29sb3IgPSBCQUJZTE9OLkNvbG9yMy5CbGFjaygpO1xyXG4gICAgICAgIC8vIHNwaGVyZS5tYXRlcmlhbCA9IG1hdGVyaWFsO1xyXG5cclxuICAgICAgICBzcGhlcmUuYWN0aW9uTWFuYWdlciA9IG5ldyBCQUJZTE9OLkFjdGlvbk1hbmFnZXIoc2NlbmUpO1xyXG4gICAgICAgIC8vIHNwaGVyZS5hY3Rpb25NYW5hZ2VyLnJlZ2lzdGVyQWN0aW9uKG5ldyBCQUJZTE9OLlNldFZhbHVlQWN0aW9uKEJBQllMT04uQWN0aW9uTWFuYWdlci5PblBvaW50ZXJPdXRUcmlnZ2VyLCBzcGhlcmUubWF0ZXJpYWwsIFwiZW1pc3NpdmVDb2xvclwiLCBzcGhlcmUubWF0ZXJpYWwuZW1pc3NpdmVDb2xvcikpO1xyXG4gICAgICAgIC8vIHNwaGVyZS5hY3Rpb25NYW5hZ2VyLnJlZ2lzdGVyQWN0aW9uKG5ldyBCQUJZTE9OLlNldFZhbHVlQWN0aW9uKEJBQllMT04uQWN0aW9uTWFuYWdlci5PblBvaW50ZXJPdmVyVHJpZ2dlciwgc3BoZXJlLm1hdGVyaWFsLCBcImVtaXNzaXZlQ29sb3JcIiwgQkFCWUxPTi5Db2xvcjMuV2hpdGUoKSkpO1xyXG4gICAgICAgIHNwaGVyZS5hY3Rpb25NYW5hZ2VyLnJlZ2lzdGVyQWN0aW9uKFxyXG4gICAgICAgICAgICBuZXcgQkFCWUxPTi5TZXRWYWx1ZUFjdGlvbihcclxuICAgICAgICAgICAgICAgIEJBQllMT04uQWN0aW9uTWFuYWdlci5PblBvaW50ZXJPdXRUcmlnZ2VyLFxyXG4gICAgICAgICAgICAgICAgICBzcGhlcmUsXHJcbiAgICAgICAgICAgICAgICAgIFwic2NhbGluZ1wiLFxyXG4gICAgICAgICAgICAgICAgICAgbmV3IEJBQllMT04uVmVjdG9yMygxLCAxLCAxKVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIHNwaGVyZS5hY3Rpb25NYW5hZ2VyLnJlZ2lzdGVyQWN0aW9uKFxyXG4gICAgICAgICAgICBuZXcgQkFCWUxPTi5TZXRWYWx1ZUFjdGlvbihcclxuICAgICAgICAgICAgICAgIEJBQllMT04uQWN0aW9uTWFuYWdlci5PblBvaW50ZXJPdmVyVHJpZ2dlcixcclxuICAgICAgICAgICAgICAgIHNwaGVyZSwgXHJcbiAgICAgICAgICAgICAgICBcInNjYWxpbmdcIiwgXHJcbiAgICAgICAgICAgICAgICBuZXcgQkFCWUxPTi5WZWN0b3IzKDEuMSwgMS4xLCAxLjEpXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIHBvaW50ZXJEcmFnQmVoYXZpb3IgaW4gdGhlIGRlc2lyZWQgbW9kZVxyXG4gICAgLy92YXIgcG9pbnRlckRyYWdCZWhhdmlvciA9IG5ldyBCQUJZTE9OLlBvaW50ZXJEcmFnQmVoYXZpb3Ioe30pO1xyXG4gICAgLy92YXIgcG9pbnRlckRyYWdCZWhhdmlvciA9IG5ldyBCQUJZTE9OLlBvaW50ZXJEcmFnQmVoYXZpb3Ioe2RyYWdQbGFuZU5vcm1hbDogbmV3IEJBQllMT04uVmVjdG9yMygwLDEsMCl9KTtcclxuICAgIHZhciBwb2ludGVyRHJhZ0JlaGF2aW9yID0gbmV3IEJBQllMT04uUG9pbnRlckRyYWdCZWhhdmlvcigpO1xyXG4gICAgXHJcbiAgICAvLyBVc2UgZHJhZyBwbGFuZSBpbiB3b3JsZCBzcGFjZVxyXG4gICAgcG9pbnRlckRyYWdCZWhhdmlvci51c2VPYmplY3RPcmllbmF0aW9uRm9yRHJhZ2dpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBMaXN0ZW4gdG8gZHJhZyBldmVudHNcclxuICAgIHBvaW50ZXJEcmFnQmVoYXZpb3Iub25EcmFnU3RhcnRPYnNlcnZhYmxlLmFkZCgoZXZlbnQpPT57XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJkcmFnU3RhcnRcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXZlbnQpO1xyXG4gICAgfSlcclxuICAgIHBvaW50ZXJEcmFnQmVoYXZpb3Iub25EcmFnT2JzZXJ2YWJsZS5hZGQoKGV2ZW50KT0+e1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZHJhZ1wiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhldmVudCk7XHJcbiAgICB9KVxyXG4gICAgcG9pbnRlckRyYWdCZWhhdmlvci5vbkRyYWdFbmRPYnNlcnZhYmxlLmFkZCgoZXZlbnQpPT57XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJkcmFnRW5kXCIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGV2ZW50KTtcclxuICAgIH0pXHJcblxyXG4gICAgLy8gSWYgaGFuZGxpbmcgZHJhZyBldmVudHMgbWFudWFsbHkgaXMgZGVzaXJlZCwgc2V0IG1vdmUgYXR0YWNoZWQgdG8gZmFsc2VcclxuICAgIC8vIHBvaW50ZXJEcmFnQmVoYXZpb3IubW92ZUF0dGFjaGVkID0gZmFsc2U7XHJcblxyXG4gICAgc3BoZXJlLmFkZEJlaGF2aW9yKHBvaW50ZXJEcmFnQmVoYXZpb3IpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICByZXR1cm4gc3BoZXJlO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7R2FtZVV0aWxzfSBmcm9tICcuL2dhbWUtdXRpbHMnO1xyXG5pbXBvcnQgKiBhcyBCQUJZTE9OIGZyb20gJ2JhYnlsb25qcyc7XHJcbmltcG9ydCAqIGFzIEdVSSBmcm9tIFwiYmFieWxvbmpzLWd1aVwiO1xyXG5pbXBvcnQgeyBJZk9ic2VydmFibGUgfSBmcm9tICdyeGpzL29ic2VydmFibGUvSWZPYnNlcnZhYmxlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lIHtcclxuXHJcbiAgICBwcml2YXRlIF9jYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBfZW5naW5lOiBCQUJZTE9OLkVuZ2luZTtcclxuICAgIHByaXZhdGUgX3NjZW5lOiBCQUJZTE9OLlNjZW5lO1xyXG4gICAgcHJpdmF0ZSBfY2FtZXJhOiBCQUJZTE9OLkFyY1JvdGF0ZUNhbWVyYTtcclxuICAgIHByaXZhdGUgX2xpZ2h0OiBCQUJZTE9OLkxpZ2h0O1xyXG4gICAgcHJpdmF0ZSBfc2hhcmtNZXNoOiBCQUJZTE9OLkFic3RyYWN0TWVzaDtcclxuICAgIHByaXZhdGUgX3NoYXJrQW5pbWF0aW9uVGltZSA9IDA7XHJcbiAgICBwcml2YXRlIF9zd2ltOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY2FudmFzRWxlbWVudDogc3RyaW5nKSB7XHJcbiAgICAgICAgLy8gQ3JlYXRlIGNhbnZhcyBhbmQgZW5naW5lXHJcbiAgICAgICAgdGhpcy5fY2FudmFzID0gPEhUTUxDYW52YXNFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhbnZhc0VsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IG5ldyBCQUJZTE9OLkVuZ2luZSh0aGlzLl9jYW52YXMsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyB0aGUgQkFCWUxPTkpTIFNjZW5lXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZVNjZW5lKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIGNyZWF0ZSBhIGJhc2ljIEJKUyBTY2VuZSBvYmplY3RcclxuICAgICAgICB0aGlzLl9zY2VuZSA9IG5ldyBCQUJZTE9OLlNjZW5lKHRoaXMuX2VuZ2luZSk7XHJcbiAgICAgICAgLy8gY3JlYXRlIGEgRnJlZUNhbWVyYSwgYW5kIHNldCBpdHMgcG9zaXRpb24gdG8gKHg6MCwgeTo1LCB6Oi0xMClcclxuICAgICAgICB0aGlzLl9jYW1lcmEgPSBuZXcgQkFCWUxPTi5BcmNSb3RhdGVDYW1lcmEoXCJDYW1lcmFcIiwgMyAqIE1hdGguUEkgLyAyLCBNYXRoLlBJIC8gNCwgMzAsIEJBQllMT04uVmVjdG9yMy5aZXJvKCksIHRoaXMuX3NjZW5lKTtcclxuICAgICAgICB0aGlzLl9jYW1lcmEuYXR0YWNoQ29udHJvbCh0aGlzLl9jYW52YXMsIHRydWUpO1xyXG4gICAgICAgIC8vIGNyZWF0ZSBhIGJhc2ljIGxpZ2h0LCBhaW1pbmcgMCwxLDAgLSBtZWFuaW5nLCB0byB0aGUgc2t5XHJcbiAgICAgICAgdGhpcy5fbGlnaHQgPSBuZXcgQkFCWUxPTi5IZW1pc3BoZXJpY0xpZ2h0KFwibGlnaHRcIiwgbmV3IEJBQllMT04uVmVjdG9yMygwLCAxLCAwKSwgdGhpcy5fc2NlbmUpO1xyXG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgc2t5Ym94XHJcbiAgICAgICAgbGV0IHNreWJveCA9IEdhbWVVdGlscy5jcmVhdGVTa3lib3goXCJza3lib3hcIiwgXCIuL2Fzc2V0cy90ZXh0dXJlL3NreWJveC9Ucm9waWNhbFN1bm55RGF5XCIsIHRoaXMuX3NjZW5lKTtcclxuICAgICAgICAvLyBjcmVhdGVzIHRoZSBzYW5keSBncm91bmRcclxuICAgICAgICAvLyBsZXQgZ3JvdW5kID0gR2FtZVV0aWxzLmNyZWF0ZUdyb3VuZCh0aGlzLl9zY2VuZSk7XHJcbiAgICAgICAgLy8gY3JlYXRlcyB0aGUgd2F0ZXJtYXRlcmlhbCBhbmQgYWRkcyB0aGUgcmVsZXZhbnQgbm9kZXMgdG8gdGhlIHJlbmRlcmxpc3RcclxuICAgICAgICAvLyBsZXQgd2F0ZXJNYXRlcmlhbCA9IEdhbWVVdGlscy5jcmVhdGVXYXRlcih0aGlzLl9zY2VuZSk7XHJcbiAgICAgICAgLy8gd2F0ZXJNYXRlcmlhbC5hZGRUb1JlbmRlckxpc3Qoc2t5Ym94KTtcclxuICAgICAgICAvLyB3YXRlck1hdGVyaWFsLmFkZFRvUmVuZGVyTGlzdChncm91bmQpO1xyXG4gICAgICAgIC8vIGNyZWF0ZSBhIHNoYXJrIG1lc2ggZnJvbSBhIC5vYmogZmlsZVxyXG4gICAgICAgIEdhbWVVdGlscy5jcmVhdGVTaGFyayh0aGlzLl9zY2VuZSlcclxuICAgICAgICAgICAgLnN1YnNjcmliZShzaGFya01lc2ggPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2hhcmtNZXNoID0gc2hhcmtNZXNoO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5fc2hhcmtNZXNoLmdldENoaWxkcmVuKCkuZm9yRWFjaChcclxuICAgICAgICAgICAgICAgIC8vICAgICBtZXNoID0+IHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgd2F0ZXJNYXRlcmlhbC5hZGRUb1JlbmRlckxpc3QobWVzaCk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gZmluYWxseSB0aGUgbmV3IHVpXHJcbiAgICAgICAgR2FtZVV0aWxzLmNyZWF0ZUd1aShcIlN0YXJ0IFN3aW1taW5nXCIsXHJcbiAgICAgICAgICAgIChidG4pID0+IHtcclxuICAgICAgICAgICAgICAgIEdhbWVVdGlscy5jcmVhdFNwaGVyZSh0aGlzLl9zY2VuZSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGV4dENvbnRyb2wgPSBidG4uY2hpbGRyZW5bMF0gYXMgR1VJLlRleHRCbG9jaztcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N3aW0gPSAhdGhpcy5fc3dpbTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zd2ltKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dENvbnRyb2wudGV4dCA9IFwiU3RvcCBTd2ltbWluZ1wiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dENvbnRyb2wudGV4dCA9IFwiU3RhcnQgU3dpbW1pbmdcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFBoeXNpY3MgZW5naW5lIGFsc28gd29ya3NcclxuICAgICAgICAvLyBsZXQgZ3Jhdml0eSA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgLTAuOSwgMCk7XHJcbiAgICAgICAgLy8gdGhpcy5fc2NlbmUuZW5hYmxlUGh5c2ljcyhncmF2aXR5LCBuZXcgQkFCWUxPTi5DYW5ub25KU1BsdWdpbigpKTtcclxuICAgICAgICAvLyB0aGlzLl9zY2VuZS5leGNsdXNpdmVEb3VibGVNb2RlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fc2NlbmUub25Qb2ludGVyT2JzZXJ2YWJsZS5hZGQoIGZ1bmN0aW9uKHBvaW50ZXJJbmZvLCBldmVudFN0YXRlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUE9JTlRFUlVQXCIscG9pbnRlckluZm8pO1xyXG4gICAgICAgIH0sIEJBQllMT04uUG9pbnRlckV2ZW50VHlwZXMuUE9JTlRFUlVQLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5fc2NlbmUub25Qb2ludGVyT2JzZXJ2YWJsZS5hZGQoIGZ1bmN0aW9uKHBvaW50ZXJJbmZvLCBldmVudFN0YXRlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUE9JTlRFUlBJQ0tcIix0aGlzKTtcclxuICAgICAgICB9LCBCQUJZTE9OLlBvaW50ZXJFdmVudFR5cGVzLlBPSU5URVJQSUNLLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5fc2NlbmUub25Qb2ludGVyT2JzZXJ2YWJsZS5hZGQoIGZ1bmN0aW9uKHBvaW50ZXJJbmZvLCBldmVudFN0YXRlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUE9JTlRFUlRBUFwiLHRoaXMpO1xyXG4gICAgICAgIH0sIEJBQllMT04uUG9pbnRlckV2ZW50VHlwZXMuUE9JTlRFUlRBUCwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuX3NjZW5lLm9uUG9pbnRlck9ic2VydmFibGUuYWRkKCBmdW5jdGlvbihwb2ludGVySW5mbywgZXZlbnRTdGF0ZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBPSU5URVJET1dOXCIsdGhpcyk7XHJcbiAgICAgICAgfSwgQkFCWUxPTi5Qb2ludGVyRXZlbnRUeXBlcy5QT0lOVEVSRE9XTiwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuX3NjZW5lLm9uUG9pbnRlck9ic2VydmFibGUuYWRkKCBmdW5jdGlvbihwb2ludGVySW5mbywgZXZlbnRTdGF0ZSkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlBPSU5URVJNT1ZFXCIscG9pbnRlckluZm8sIGV2ZW50U3RhdGUpO1xyXG4gICAgICAgIH0sIEJBQllMT04uUG9pbnRlckV2ZW50VHlwZXMuUE9JTlRFUk1PVkUsIGZhbHNlKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB0ZXN0KCl7XHJcbiAgICAgICAgR2FtZVV0aWxzLmNyZWF0U3BoZXJlKHRoaXMuX3NjZW5lKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU3RhcnRzIHRoZSBhbmltYXRpb24gbG9vcC5cclxuICAgICAqL1xyXG4gICAgYW5pbWF0ZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9zY2VuZS5yZWdpc3RlckJlZm9yZVJlbmRlcigoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBkZWx0YVRpbWU6IG51bWJlciA9ICgxIC8gdGhpcy5fZW5naW5lLmdldEZwcygpKTtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRlU2hhcmsoZGVsdGFUaW1lKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gcnVuIHRoZSByZW5kZXIgbG9vcFxyXG4gICAgICAgIHRoaXMuX2VuZ2luZS5ydW5SZW5kZXJMb29wKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fc2NlbmUucmVuZGVyKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIHRoZSBjYW52YXMvd2luZG93IHJlc2l6ZSBldmVudCBoYW5kbGVyXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fZW5naW5lLnJlc2l6ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFuaW1hdGVTaGFyayhkZWx0YVRpbWU6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLl9zaGFya01lc2ggJiYgdGhpcy5fc3dpbSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zaGFya0FuaW1hdGlvblRpbWUgKz0gZGVsdGFUaW1lOyAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLl9zaGFya01lc2guZ2V0Q2hpbGRyZW4oKS5mb3JFYWNoKFxyXG4gICAgICAgICAgICAgICAgbWVzaCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZlcnRleERhdGEgPSBCQUJZTE9OLlZlcnRleERhdGEuRXh0cmFjdEZyb21NZXNoKG1lc2ggYXMgQkFCWUxPTi5NZXNoKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcG9zaXRpb25zID0gdmVydGV4RGF0YS5wb3NpdGlvbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG51bWJlck9mUG9pbnRzID0gcG9zaXRpb25zLmxlbmd0aCAvIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXJPZlBvaW50czsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uc1tpICogM10gKz1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguc2luKDAuMiAqIHBvc2l0aW9uc1tpICogMyArIDJdICsgdGhpcy5fc2hhcmtBbmltYXRpb25UaW1lICogMykgKiAwLjE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZlcnRleERhdGEuYXBwbHlUb01lc2gobWVzaCBhcyBCQUJZTE9OLk1lc2gpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG5cclxufSIsImltcG9ydCB7IEdhbWUgfSBmcm9tICcuL2dhbWUnO1xyXG5pbXBvcnQgJ2JhYnlsb25qcy1tYXRlcmlhbHMnO1xyXG5pbXBvcnQgJ2JhYnlsb25qcy1sb2FkZXJzJztcclxuaW1wb3J0IENBTk5PTiA9IHJlcXVpcmUoJ2Nhbm5vbicpO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XHJcbiAgLy8gU2V0IGdsb2JhbCB2YXJpYWJsZSBmb3IgY2Fubm9uanMgcGh5c2ljcyBlbmdpbmVcclxuICB3aW5kb3cuQ0FOTk9OID0gQ0FOTk9OO1xyXG4gIGxldCBnYW1lID0gbmV3IEdhbWUoJ3JlbmRlckNhbnZhcycpO1xyXG4gIGdhbWUuY3JlYXRlU2NlbmUoKTtcclxuICBnYW1lLmFuaW1hdGUoKTtcclxufSk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=